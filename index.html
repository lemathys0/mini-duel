<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Duel de Cartes</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="bg-shapes">
        <div></div><div></div><div></div><div></div><div></div>
    </div>

    <div class="container">
        <h1>Mini Duel de Cartes</h1>

        <div id="auth" class="menu-section">
            <h2>Authentification</h2>
            <input type="text" id="pseudo" placeholder="Votre Pseudo">
            <input type="password" id="code" placeholder="Votre Code (4 chiffres)">
            <button id="login-btn">Se Connecter</button>
            <button id="signup-btn">S'inscrire</button>
            <p id="auth-msg" class="message"></p>
        </div>

        <div id="main-menu" class="menu-section" style="display:none;">
            <h2>Bienvenue <span id="player-name" style="color:#f1c40f;"></span> !</h2>
            <p id="pseudo-display"></p> <p id="match-msg" class="message"></p>

            <h3>Choisissez un mode de jeu</h3>
            <div style="display: flex; flex-wrap: wrap; justify-content: center; margin-top: 10px;">
                <button id="start-ai-game-btn" style="flex: 1 1 auto; margin: 5px; background-color: #27ae60;">Jouer contre l'IA</button>
                <button id="start-pvp-game-btn" style="flex: 1 1 auto; margin: 5px; background-color: #3498db;">Rejoindre un match PvP</button>
                </div>
            <button id="logout-btn" class="menu-button" style="margin-top: 20px;">Déconnexion</button>
        </div>

        <div id="matchmaking-status" class="menu-section" style="display:none;">
            <h3>Recherche de match PvP...</h3>
            <p id="matchmaking-message"></p>
            <button id="cancel-matchmaking-btn" class="menu-button">Annuler la recherche</button>
        </div>

        <div id="game">
            <h2>Match: <span id="current-match" style="color:#f1c40f;"></span></h2>

            <div class="player-info you">
                <span id="you-name" class="player-name">Vous</span>
                <div class="health-bar-container">
                    <div class="health-bar" id="you-health-bar"></div>
                </div>
                <span class="pv-display" id="you-pv-display">100 PV</span>
            </div>

            <div class="player-info opponent">
                <span id="opponent-name" class="player-name">Adversaire</span>
                <div class="health-bar-container">
                    <div class="health-bar opponent-bar" id="opponent-health-bar"></div>
                </div>
                <span class="pv-display" id="opponent-pv-display">100 PV</span>
                <span id="opponent-action-status"></span>
            </div>

            <div class="timer-container">
                <span class="timer-label">Temps restant:</span>
                <div class="timer-bar-wrapper">
                    <div class="timer-progress-bar" id="timer-progress-bar"></div>
                </div>
                <span class="timer-value" id="timer-value">20</span>
            </div>

            <div class="game-controls action-buttons"> <p id="action-msg" class="message"></p>
                <button id="action-attack">Attaquer (10 dégâts)</button>
                <button id="action-defend">Défendre (-5 dégâts reçus)</button>
                <button id="action-heal">Soigner (+15 PV)</button>
            </div>

            <div class="history-section">
                <h3>Historique du match</h3>
                <div id="history"></div>
            </div>
            <button id="back-to-menu-btn" style="margin-top: 20px; background-color: #9b59b6;">Retour au Menu</button>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>